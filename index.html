<!DOCTYPE html>
<html>
<head>
  <title>AI Onboarding</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

<!-- FORM SECTION -->
<div id="formSection">
  <h2>Welcome</h2>

  <input id="name" placeholder="Your Name"><br><br>
  <input id="email" placeholder="Email ID"><br><br>
  <input id="role" placeholder="Role / Department"><br><br>

  <button onclick="submitForm()">Start Onboarding</button>
</div>

<!-- AI SECTION -->
<div id="aiSection" style="display:none;">
  <h2>AI Onboarding Session</h2>
  <p>Connecting to your AI trainer...</p>
</div>

<script>
const BACKEND_URL = "https://script.google.com/macros/s/AKfycbzY0CuQFdIBOopTEKOlWyjKlCIJ5N0v4ifoZiU_wpaKUOcuFgY5oUO0WvXy5L0FuQbP6A/exec";

let employee = {};

function submitForm() {
  employee.name = document.getElementById("name").value;
  employee.email = document.getElementById("email").value;
  employee.role = document.getElementById("role").value;

  fetch(BACKEND_URL, {
    method: "POST",
    body: JSON.stringify({
      name: employee.name,
      email: employee.email,
      role: employee.role,
      status: "Form Submitted"
    })
  }).then(() => {
    document.getElementById("formSection").style.display = "none";
    document.getElementById("aiSection").style.display = "block";
    startAIVoice();
  });
}

// ==========================
// AI VOICE (TEXT TO SPEECH)
// ==========================
function speak(text) {
  const msg = new SpeechSynthesisUtterance(text);
  msg.lang = "en-IN";
  msg.rate = 1;
  msg.pitch = 1;
  window.speechSynthesis.speak(msg);
}

function startAIVoice() {
  const greeting = `Hello ${employee.name}. 
  Welcome to our company.
  I am your virtual onboarding assistant.
  Let us begin your onboarding session.`;

  speak(greeting);
}
</script>

</body>
</html>
